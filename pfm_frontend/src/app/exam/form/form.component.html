<div class="modal-container">
  <div class="modal-header">
    <h4>{{ examId ? 'Modifier l\'examen' : 'Créer un nouvel examen' }}</h4>
    <button class="btn btn-close" (click)="activeModal.dismiss()">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <div class="modal-body">
    <form #examForm="ngForm" (ngSubmit)="submitForm()">
      <div class="form-group mb-3">
        <label for="nom" class="form-label">Nom de l'examen *</label>
        <input type="text" id="nom" name="nom" required class="form-control" 
              [(ngModel)]="exam.nom">
      </div>
      
      <div class="form-group mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea id="description" name="description" class="form-control" rows="3"
                 [(ngModel)]="exam.description"></textarea>
      </div>
      
      <div class="row mb-3">
        <div class="col-md-6">
          <div class="form-group">
            <label for="date" class="form-label">Date de l'examen *</label>
            <input type="date" id="date" name="date" required class="form-control"
                  [(ngModel)]="exam.date">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="semestre" class="form-label">Semestre *</label>
            <select id="semestre" name="semestre" required class="form-control"
                   [(ngModel)]="exam.semestre">
              <option value="S1">Semestre 1 (S1)</option>
              <option value="S2">Semestre 2 (S2)</option>
              <option value="S3">Semestre 3 (S3)</option>
              <option value="S4">Semestre 4 (S4)</option>
            </select>
          </div>
        </div>
      </div>

      <div class="form-group mb-4">
        <label for="nombreQuestions" class="form-label">Nombre de questions *</label>
        <input type="number" id="nombreQuestions" name="nombreQuestions" 
              min="1" required class="form-control"
              [(ngModel)]="exam.nombreQuestions">
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" 
               (click)="activeModal.dismiss()" [disabled]="isLoading">
          Annuler
        </button>
        <button type="submit" class="btn btn-dark" [disabled]="!examForm.valid || isLoading">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          {{ examId ? 'Mettre à jour' : 'Créer' }}
        </button>
      </div>
    </form>
  </div>
</div>